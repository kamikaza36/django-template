(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{68:function(e,t,r){},73:function(e,t,r){},74:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(10),c=r.n(o),i=r(30),s=r(31),d=r(35),l=r(33),h=r(12),u=r(8),j=r(16),b=r(32),p=r(34),m=r(15),O=r(36),x=r(37),v=r(38),g=r(13),C=r.n(g),y=r(20),f=r(21),_=r.n(f),S=r(14);r(66);S.a.configure();var M="http://127.0.0.1:8000",D=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(M,"/api/orders/"));case 3:if(void 0!==(t=e.sent).status&&400!==t.status&&403!==t.status&&404!==t.status&&500!==t.status&&t.data){e.next=6;break}throw new Error("");case 6:return e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",S.a.error("Do\u0161lo je do pogre\u0161ke prilikom dohva\u0107anja naloga"));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(y.a)(C.a.mark((function e(t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(M,"/api/orders/"),t);case 3:if(void 0!==(r=e.sent).status&&400!==r.status&&403!==r.status&&404!==r.status&&500!==r.status){e.next=6;break}throw new Error("");case 6:return S.a.success("Uspje\u0161no dodano"),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",S.a.error("Do\u0161lo je do pogre\u0161ke prilikom dodavanja naloga"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),N=(r(67),r(68),r(3)),k=function(e){Object(d.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).componentDidMount=function(){D().then((function(e){a.setState({orders:e&&e.data?e.data:[]}),a.prepareData()}))},a.handleDateSelect=function(){a.setState({isModalOpen:!0})},a.handleClose=function(){a.setState({isModalOpen:!1,errorOrderName:!1,errorClient:!1,errorQuantity:!1,errorStart:!1,errorEnd:!1,errorMachine:!1})},a.changeOrderName=function(e){a.setState({order_name:e.target.value,errorOrderName:!1})},a.changeClient=function(e){a.setState({client:e.target.value,errorClient:!1})},a.changeOrderQuantity=function(e){a.setState({order_quantity:e.target.value,errorQuantity:!1})},a.changeStartDate=function(e){a.setState({order_start_date:e.target.value,errorStart:!1})},a.changeEndDate=function(e){a.setState({order_end_date:e.target.value,errorEnd:!1})},a.changeMachineName=function(e){a.setState({machine:e.target.value,errorMachine:!1})},a.submitHandler=function(e){var t=a.state,r=t.order_name,n=t.client,o=t.order_quantity,c=t.order_start_date,i=t.order_end_date,s=t.machine;e.preventDefault(),r&&n&&o&&c&&i&&s?E({order_name:r,client:n,order_quantity:o,order_start_date:c,order_end_date:i,machine:s}).then((function(){a.handleClose(),D().then((function(e){a.setState({orders:e&&e.data?e.data:[]}),a.prepareData()}))})):a.setState({errorOrderName:!0,errorClient:!0,errorQuantity:!0,errorStart:!0,errorEnd:!0,errorMachine:!0})},a.prepareData=function(){var e=a.state.orders.map((function(e){return{id:e.id,title:"".concat(e.client,"/").concat(e.order_name,"/").concat(e.machine),start:"2021-04-01T10:00:00",end:"2021-04-02T12:00:00"}}));a.setState({newData:e,isLoading:!1})},a.state={orders:[],newData:[],isLoading:!0,isModalOpen:!1,order_name:"",client:"",order_quantity:"",order_start_date:"",order_end_date:"",machine:"",errorOrderName:!1,errorClient:!1,errorQuantity:!1,errorStart:!1,errorEnd:!1,errorMachine:!1},a}return Object(s.a)(r,[{key:"render",value:function(){var e=this.state,t=e.newData,r=e.isLoading,a=e.isModalOpen,n=e.order_name,o=e.client,c=e.order_quantity,i=e.order_start_date,s=e.order_end_date,d=e.machine,l=e.errorOrderName,g=e.errorClient,C=e.errorQuantity,y=e.errorStart,f=e.errorEnd,_=e.errorMachine,S={};l&&(S.borderColor="red");var M={};g&&(M.borderColor="red");var D={};C&&(D.borderColor="red");var E={};y&&(E.borderColor="red");var k={};f&&(k.borderColor="red");var w={};return _&&(w.borderColor="red"),r?Object(N.jsx)("div",{className:"spinner",children:Object(N.jsx)(b.a,{animation:"border",variant:"primary"})}):Object(N.jsxs)("div",{className:"demo-app",children:[Object(N.jsx)("div",{className:"demo-app-sidebar",children:Object(N.jsxs)("div",{className:"demo-app-sidebar-section",children:[Object(N.jsx)("h2",{children:"Filter"}),Object(N.jsxs)(u.a.Group,{className:"demo-app-sidebar-section-client",children:[Object(N.jsx)(u.a.Label,{children:"Sort by client:"}),Object(N.jsx)(u.a.Control,{size:"sm",as:"select",onChange:this.handleClient,children:Object(N.jsx)("option",{children:"Select..."})})]}),Object(N.jsxs)(u.a.Group,{className:"demo-app-sidebar-section-order",children:[Object(N.jsx)(u.a.Label,{children:"Sort by order:"}),Object(N.jsx)(u.a.Control,{size:"sm",as:"select",onChange:this.handleOrder,children:Object(N.jsx)("option",{children:"Select..."})})]}),Object(N.jsxs)(u.a.Group,{className:"demo-app-sidebar-section-machine",children:[Object(N.jsx)(u.a.Label,{children:"Sort by machine:"}),Object(N.jsx)(u.a.Control,{size:"sm",as:"select",onChange:this.handleMachine,children:Object(N.jsx)("option",{children:"Select..."})})]}),Object(N.jsx)(j.a,{variant:"danger",onClick:this.handleRemoveFilter,children:"Remove filter"})]})}),Object(N.jsxs)(h.a,{show:a,onHide:this.handleClose,children:[Object(N.jsx)(h.a.Header,{closeButton:!0,children:Object(N.jsx)(h.a.Title,{children:"Add Event"})}),Object(N.jsx)(h.a.Body,{children:Object(N.jsxs)(u.a,{children:[Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"Order name"}),Object(N.jsx)(u.a.Control,{type:"text",placeholder:"Enter order name",name:"order_name",value:n,onChange:this.changeOrderName,style:S})]}),Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"Client"}),Object(N.jsx)(u.a.Control,{type:"text",placeholder:"Enter client name",name:"client",value:o,onChange:this.changeClient,style:M})]}),Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"Order Quantity"}),Object(N.jsx)(u.a.Control,{type:"number",placeholder:"Enter order Quantity",name:"order_quantity",value:c,onChange:this.changeOrderQuantity,style:D})]}),Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"Machine name"}),Object(N.jsx)(u.a.Control,{type:"text",placeholder:"Enter Machine name",name:"machine",value:d,onChange:this.changeMachineName,style:w})]}),Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"Start Date"}),Object(N.jsx)(u.a.Control,{type:"datetime-local",name:"order_start_date",value:i,onChange:this.changeStartDate,style:E})]}),Object(N.jsxs)(u.a.Group,{children:[Object(N.jsx)(u.a.Label,{children:"End Date"}),Object(N.jsx)(u.a.Control,{type:"datetime-local",name:"order_end_date",value:s,onChange:this.changeEndDate,style:k})]})]})}),Object(N.jsxs)(h.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:this.handleClose,children:"Close"}),Object(N.jsx)(j.a,{variant:"primary",onClick:this.submitHandler,children:"Add event"})]})]}),Object(N.jsx)("div",{className:"demo-app-main",children:Object(N.jsx)(p.a,{plugins:[m.b,O.a,v.a,x.a],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listWeek"},events:t,initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:this.handleDateSelect})})]})}}]),r}(a.Component);r(73);var w=function(){return Object(N.jsx)("div",{children:Object(N.jsx)(k,{})})},L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,76)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),o(e),c(e)}))};c.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(w,{})}),document.getElementById("root")),L()}},[[74,1,2]]]);
//# sourceMappingURL=main.2f46f3a9.chunk.js.map